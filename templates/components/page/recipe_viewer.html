{% load static %}

<section 
    id="recipe-viewer-container" 
    class="flex-fixed pop-up-container backdrop-blur">
    <div
        id="recipe-viewer" 
        class="flex-column recipe-pop-up border-radius-soft">

            <div class="recipe-item-pop-up-generated">
                <!-- Info section -->
                <section id="recipe-viewer-info" class="pop-up-section mt-2 w-75">
                    <!-- Conditionally rendrered info content -->
                </section>

                <!-- Bottle post review section -->
                <section id="recipe-review-section" class="pop-up-section mt-2 w-75">
                    <i class="fa-solid fa-circle-info fs-4 pb-2"></i>
                    <h3 class="mb-2 mt-4 text-orange text-decoration-underline">
                         Review 
                    </h3>
                            
                    <div class="flex-column mb-1">
                        <h5>How it works</h5>
                        <p>
                            You've been randomly selected by our system to review this recipe!
                            If you find value in it, or if you think others will, you're 
                            allowed to put it back into the ocean! 
                            <i class="fa-solid fa-water recipe-item-in-ocean-icon"></i>
                            However, if you don't, you have the power to delete it from the ocean 
                            <i class="fa-solid fa-x text-red"></i>
                            <br />
                            <br />
                            <em>BEWARE!</em> 
                        </p>
                        <ul>
                            <li>
                                When you delete a recipe from the ocean it will be 
                                deleted <em class="text-red">forever</em>.
                            </li>
                            <li>
                                When you bottle post a recipe, other users will 
                                be able to continue pass it around until it gets deleted.
                            </li>
                            <li>
                                The more 'bottle posts' a recipe has, the higher it will rank 
                                and become visible to other users. 
                            </li>
                            <li>
                                If you delete it from the ocean, it will still exist in the feed, 
                                but no one will be able to bottle post it.
                            </li>
                        </ul>
                        <p class="pb-5 pt-2">
                            Your action will impact our alogritm 
                            <span class="text-decoration-underline">massively</span>. 
                            <br />
                            <br />
                            The power is in your hands <i class="fa-solid fa-hands"></i>.
                        </p>
                        <div class="flex-row align-items-center justify-content-start 
                            w-100 mb-4 mt-2">
                            <div class="flex-start" style="width: 250px">
                                <em>Bottle post</em> 
                                <br />
                                Return recipe to ocean
                                <i class="fa-solid fa-water recipe-item-in-ocean-icon"></i>
                            </div>
                            <i class="fa-solid fa-arrow-right"></i>
        
                            <div class="flex-center" style="width: 120px">
                                <button 
                                    id="bottle-post-review-boost-button"
                                    class="flex-center bottle-post-button interactive-turn">
                                    <img
                                        src="/static/images/global/logo_black.webp" 
                                        alt="Bottle post icon" 
                                        style="background-color: transparent;" />
                                </button>
                            </div>
                        </div>
                        <div class="flex-row align-items-center justify-content-start w-100 mb-4 mt-2">
                            <div class="flex-start" style="width: 250px">
                                <em>Remove</em> 
                                <br />
                                Remove recipe from ocean
                                <i class="fa-solid fa-x text-red"></i>
                            </div>
                            <i class="fa-solid fa-arrow-right"></i>
                            <div class="flex-center" style="width: 120px">
                                <button 
                                    id="bottle-post-review-delete-button" 
                                    class="flex-center delete-from-ocean-button 
                                        interactive-turn">
                                    <i class="fa-solid fa-x fs-3"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <h2 id="recipe-viewer-title" class="pb-3">
                    <!-- Recipe title (rendered) -->
                </h2>

                <!-- Recipe Image -->
                <section id="recipe-image-container" class="pop-up-section">
                    <!-- Rendered image, avoid setting a user-
                     defined alt! -->
                    <img 
                        id="recipe-viewer-image" 
                        src="{% static '/images/icons/missing.webp' %}"
                        alt="Recipe image">
                </section>

                <!-- Recipe description -->
                <section class="pop-up-section">
                    <h4 class="mb-2">Description</h4>
                    <p id="recipe-viewer-description"></p>
                </section>

                <!-- Recipe instructions -->
                <section  class="pop-up-section">
                    <h4 class="mb-2">
                        Instructions
                    </h4>
                    <p id="recipe-viewer-instructions"></p>
                </section>

                <!-- Ingredients -->
                <section class="pop-up-section">
                    <h4 class="mb-3">Ingredients</h4>
                    <ul
                        id="recipe-viewer-ingredients" 
                        class="flex-column justify-content-start">
                            <!-- Generated js content -->
                    </ul>
                </section>

                <!-- Dietary attributes -->
                <section class="pop-up-section w-75">
                    <div id="recipe-viewer-dietary-attributes">
                        <!-- JS generated attributes -->
                    </div>
                </section>

                <!-- Comment section -->
                <section>
                    <h5>
                        Comments 
                        <span class="text-orange">(BETA)</span>
                    </h5>
                    <p>If your comment disappears, refresh the browser!</p>
                    <div class="flex-column comment-section w-100">
                        <div id="recipe-viewer-comments" class="flex-column w-100">
                            <!-- JS generated comments -->
                        </div>
                        <!-- Comment textarea input -->
                        <textarea 
                            class="flex-column comment-input border-radius-soft"
                            id="recipe-viewer-comment-input" 
                            placeholder="Write a comment..."></textarea>
                        <button 
                            id="recipe-viewer-publish-comment-button"  
                            class="standard-button w-25">
                            Publish comment
                        </button>
                    </div>
                </section>

                <!-- Close button -->
                <button
                    id="recipe-viewer-close-button" 
                    class="close-button-fixed">
                    X
                </button>
            </div>

    </div>
</section>
